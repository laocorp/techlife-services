Initializing deployment
Cloning Repo github.com/laocorp/techlife-services.git to /etc/dokploy/applications/techlifeservice-web-nlowax/code: ‚úÖ
Cloning into '/etc/dokploy/applications/techlifeservice-web-nlowax/code'...
remote: Enumerating objects: 237, done.
remote: Counting objects:   0% (1/237)        
remote: Counting objects:   1% (3/237)        
remote: Counting objects:   2% (5/237)        
remote: Counting objects:   3% (8/237)        
remote: Counting objects:   4% (10/237)        
remote: Counting objects:   5% (12/237)        
remote: Counting objects:   6% (15/237)        
remote: Counting objects:   7% (17/237)        
remote: Counting objects:   8% (19/237)        
remote: Counting objects:   9% (22/237)        
remote: Counting objects:  10% (24/237)        
remote: Counting objects:  11% (27/237)        
remote: Counting objects:  12% (29/237)        
remote: Counting objects:  13% (31/237)        
remote: Counting objects:  14% (34/237)        
remote: Counting objects:  15% (36/237)        
remote: Counting objects:  16% (38/237)        
remote: Counting objects:  17% (41/237)        
remote: Counting objects:  18% (43/237)        
remote: Counting objects:  19% (46/237)        
remote: Counting objects:  20% (48/237)        
remote: Counting objects:  21% (50/237)        
remote: Counting objects:  22% (53/237)        
remote: Counting objects:  23% (55/237)        
remote: Counting objects:  24% (57/237)        
remote: Counting objects:  25% (60/237)        
remote: Counting objects:  26% (62/237)        
remote: Counting objects:  27% (64/237)        
remote: Counting objects:  28% (67/237)        
remote: Counting objects:  29% (69/237)        
remote: Counting objects:  30% (72/237)        
remote: Counting objects:  31% (74/237)        
remote: Counting objects:  32% (76/237)        
remote: Counting objects:  33% (79/237)        
remote: Counting objects:  34% (81/237)        
remote: Counting objects:  35% (83/237)        
remote: Counting objects:  36% (86/237)        
remote: Counting objects:  37% (88/237)        
remote: Counting objects:  38% (91/237)        
remote: Counting objects:  39% (93/237)        
remote: Counting objects:  40% (95/237)        
remote: Counting objects:  41% (98/237)        
remote: Counting objects:  42% (100/237)        
remote: Counting objects:  43% (102/237)        
remote: Counting objects:  44% (105/237)        
remote: Counting objects:  45% (107/237)        
remote: Counting objects:  46% (110/237)        
remote: Counting objects:  47% (112/237)        
remote: Counting objects:  48% (114/237)        
remote: Counting objects:  49% (117/237)        
remote: Counting objects:  50% (119/237)        
remote: Counting objects:  51% (121/237)        
remote: Counting objects:  52% (124/237)        
remote: Counting objects:  53% (126/237)        
remote: Counting objects:  54% (128/237)        
remote: Counting objects:  55% (131/237)        
remote: Counting objects:  56% (133/237)        
remote: Counting objects:  57% (136/237)        
remote: Counting objects:  58% (138/237)        
remote: Counting objects:  59% (140/237)        
remote: Counting objects:  60% (143/237)        
remote: Counting objects:  61% (145/237)        
remote: Counting objects:  62% (147/237)        
remote: Counting objects:  63% (150/237)        
remote: Counting objects:  64% (152/237)        
remote: Counting objects:  65% (155/237)        
remote: Counting objects:  66% (157/237)        
remote: Counting objects:  67% (159/237)        
remote: Counting objects:  68% (162/237)        
remote: Counting objects:  69% (164/237)        
remote: Counting objects:  70% (166/237)        
remote: Counting objects:  71% (169/237)        
remote: Counting objects:  72% (171/237)        
remote: Counting objects:  73% (174/237)        
remote: Counting objects:  74% (176/237)        
remote: Counting objects:  75% (178/237)        
remote: Counting objects:  76% (181/237)        
remote: Counting objects:  77% (183/237)        
remote: Counting objects:  78% (185/237)        
remote: Counting objects:  79% (188/237)        
remote: Counting objects:  80% (190/237)        
remote: Counting objects:  81% (192/237)        
remote: Counting objects:  82% (195/237)        
remote: Counting objects:  83% (197/237)        
remote: Counting objects:  84% (200/237)        
remote: Counting objects:  85% (202/237)        
remote: Counting objects:  86% (204/237)        
remote: Counting objects:  87% (207/237)        
remote: Counting objects:  88% (209/237)        
remote: Counting objects:  89% (211/237)        
remote: Counting objects:  90% (214/237)        
remote: Counting objects:  91% (216/237)        
remote: Counting objects:  92% (219/237)        
remote: Counting objects:  93% (221/237)        
remote: Counting objects:  94% (223/237)        
remote: Counting objects:  95% (226/237)        
remote: Counting objects:  96% (228/237)        
remote: Counting objects:  97% (230/237)        
remote: Counting objects:  98% (233/237)        
remote: Counting objects:  99% (235/237)        
remote: Counting objects: 100% (237/237)        
remote: Counting objects: 100% (237/237), done.
remote: Compressing objects:   0% (1/180)        
remote: Compressing objects:   1% (2/180)        
remote: Compressing objects:   2% (4/180)        
remote: Compressing objects:   3% (6/180)        
remote: Compressing objects:   4% (8/180)        
remote: Compressing objects:   5% (9/180)        
remote: Compressing objects:   6% (11/180)        
remote: Compressing objects:   7% (13/180)        
remote: Compressing objects:   8% (15/180)        
remote: Compressing objects:   9% (17/180)        
remote: Compressing objects:  10% (18/180)        
remote: Compressing objects:  11% (20/180)        
remote: Compressing objects:  12% (22/180)        
remote: Compressing objects:  13% (24/180)        
remote: Compressing objects:  14% (26/180)        
remote: Compressing objects:  15% (27/180)        
remote: Compressing objects:  16% (29/180)        
remote: Compressing objects:  17% (31/180)        
remote: Compressing objects:  18% (33/180)        
remote: Compressing objects:  19% (35/180)        
remote: Compressing objects:  20% (36/180)        
remote: Compressing objects:  21% (38/180)        
remote: Compressing objects:  22% (40/180)        
remote: Compressing objects:  23% (42/180)        
remote: Compressing objects:  24% (44/180)        
remote: Compressing objects:  25% (45/180)        
remote: Compressing objects:  26% (47/180)        
remote: Compressing objects:  27% (49/180)        
remote: Compressing objects:  28% (51/180)        
remote: Compressing objects:  29% (53/180)        
remote: Compressing objects:  30% (54/180)        
remote: Compressing objects:  31% (56/180)        
remote: Compressing objects:  32% (58/180)        
remote: Compressing objects:  33% (60/180)        
remote: Compressing objects:  34% (62/180)        
remote: Compressing objects:  35% (63/180)        
remote: Compressing objects:  36% (65/180)        
remote: Compressing objects:  37% (67/180)        
remote: Compressing objects:  38% (69/180)        
remote: Compressing objects:  39% (71/180)        
remote: Compressing objects:  40% (72/180)        
remote: Compressing objects:  41% (74/180)        
remote: Compressing objects:  42% (76/180)        
remote: Compressing objects:  43% (78/180)        
remote: Compressing objects:  44% (80/180)        
remote: Compressing objects:  45% (81/180)        
remote: Compressing objects:  46% (83/180)        
remote: Compressing objects:  47% (85/180)        
remote: Compressing objects:  48% (87/180)        
remote: Compressing objects:  49% (89/180)        
remote: Compressing objects:  50% (90/180)        
remote: Compressing objects:  51% (92/180)        
remote: Compressing objects:  52% (94/180)        
remote: Compressing objects:  53% (96/180)        
remote: Compressing objects:  54% (98/180)        
remote: Compressing objects:  55% (99/180)        
remote: Compressing objects:  56% (101/180)        
remote: Compressing objects:  57% (103/180)        
remote: Compressing objects:  58% (105/180)        
remote: Compressing objects:  59% (107/180)        
remote: Compressing objects:  60% (108/180)        
remote: Compressing objects:  61% (110/180)        
remote: Compressing objects:  62% (112/180)        
remote: Compressing objects:  63% (114/180)        
remote: Compressing objects:  64% (116/180)        
remote: Compressing objects:  65% (117/180)        
remote: Compressing objects:  66% (119/180)        
remote: Compressing objects:  67% (121/180)        
remote: Compressing objects:  68% (123/180)        
remote: Compressing objects:  69% (125/180)        
remote: Compressing objects:  70% (126/180)        
remote: Compressing objects:  71% (128/180)        
remote: Compressing objects:  72% (130/180)        
remote: Compressing objects:  73% (132/180)        
remote: Compressing objects:  74% (134/180)        
remote: Compressing objects:  75% (135/180)        
remote: Compressing objects:  76% (137/180)        
remote: Compressing objects:  77% (139/180)        
remote: Compressing objects:  78% (141/180)        
remote: Compressing objects:  79% (143/180)        
remote: Compressing objects:  80% (144/180)        
remote: Compressing objects:  81% (146/180)        
remote: Compressing objects:  82% (148/180)        
remote: Compressing objects:  83% (150/180)        
remote: Compressing objects:  84% (152/180)        
remote: Compressing objects:  85% (153/180)        
remote: Compressing objects:  86% (155/180)        
remote: Compressing objects:  87% (157/180)        
remote: Compressing objects:  88% (159/180)        
remote: Compressing objects:  89% (161/180)        
remote: Compressing objects:  90% (162/180)        
remote: Compressing objects:  91% (164/180)        
remote: Compressing objects:  92% (166/180)        
remote: Compressing objects:  93% (168/180)        
remote: Compressing objects:  94% (170/180)        
remote: Compressing objects:  95% (171/180)        
remote: Compressing objects:  96% (173/180)        
remote: Compressing objects:  97% (175/180)        
remote: Compressing objects:  98% (177/180)        
remote: Compressing objects:  99% (179/180)        
remote: Compressing objects: 100% (180/180)        
remote: Compressing objects: 100% (180/180), done.
Receiving objects:   0% (1/237)
Receiving objects:   1% (3/237)
Receiving objects:   2% (5/237)
Receiving objects:   3% (8/237)
Receiving objects:   4% (10/237)
Receiving objects:   5% (12/237)
Receiving objects:   6% (15/237)
Receiving objects:   7% (17/237)
Receiving objects:   8% (19/237)
Receiving objects:   9% (22/237)
Receiving objects:  10% (24/237)
Receiving objects:  11% (27/237)
Receiving objects:  12% (29/237)
Receiving objects:  13% (31/237)
Receiving objects:  14% (34/237)
Receiving objects:  15% (36/237)
Receiving objects:  16% (38/237)
Receiving objects:  17% (41/237)
Receiving objects:  18% (43/237)
Receiving objects:  19% (46/237)
Receiving objects:  20% (48/237)
Receiving objects:  21% (50/237)
Receiving objects:  22% (53/237)
Receiving objects:  23% (55/237)
Receiving objects:  24% (57/237)
Receiving objects:  25% (60/237)
Receiving objects:  26% (62/237)
Receiving objects:  27% (64/237)
Receiving objects:  28% (67/237)
Receiving objects:  29% (69/237)
Receiving objects:  30% (72/237)
Receiving objects:  31% (74/237)
Receiving objects:  32% (76/237)
Receiving objects:  33% (79/237)
Receiving objects:  34% (81/237)
Receiving objects:  35% (83/237)
Receiving objects:  36% (86/237)
Receiving objects:  37% (88/237)
Receiving objects:  38% (91/237)
Receiving objects:  39% (93/237)
Receiving objects:  40% (95/237)
Receiving objects:  41% (98/237)
Receiving objects:  42% (100/237)
Receiving objects:  43% (102/237)
Receiving objects:  44% (105/237)
Receiving objects:  45% (107/237)
Receiving objects:  46% (110/237)
Receiving objects:  47% (112/237)
Receiving objects:  48% (114/237)
Receiving objects:  49% (117/237)
Receiving objects:  50% (119/237)
Receiving objects:  51% (121/237)
Receiving objects:  52% (124/237)
Receiving objects:  53% (126/237)
Receiving objects:  54% (128/237)
Receiving objects:  55% (131/237)
Receiving objects:  56% (133/237)
Receiving objects:  57% (136/237)
Receiving objects:  58% (138/237)
remote: Total 237 (delta 31), reused 221 (delta 26), pack-reused 0 (from 0)
Receiving objects:  59% (140/237)
Receiving objects:  60% (143/237)
Receiving objects:  61% (145/237)
Receiving objects:  62% (147/237)
Receiving objects:  63% (150/237)
Receiving objects:  64% (152/237)
Receiving objects:  65% (155/237)
Receiving objects:  66% (157/237)
Receiving objects:  67% (159/237)
Receiving objects:  68% (162/237)
Receiving objects:  69% (164/237)
Receiving objects:  70% (166/237)
Receiving objects:  71% (169/237)
Receiving objects:  72% (171/237)
Receiving objects:  73% (174/237)
Receiving objects:  74% (176/237)
Receiving objects:  75% (178/237)
Receiving objects:  76% (181/237)
Receiving objects:  77% (183/237)
Receiving objects:  78% (185/237)
Receiving objects:  79% (188/237)
Receiving objects:  80% (190/237)
Receiving objects:  81% (192/237)
Receiving objects:  82% (195/237)
Receiving objects:  83% (197/237)
Receiving objects:  84% (200/237)
Receiving objects:  85% (202/237)
Receiving objects:  86% (204/237)
Receiving objects:  87% (207/237)
Receiving objects:  88% (209/237)
Receiving objects:  89% (211/237)
Receiving objects:  90% (214/237)
Receiving objects:  91% (216/237)
Receiving objects:  92% (219/237)
Receiving objects:  93% (221/237)
Receiving objects:  94% (223/237)
Receiving objects:  95% (226/237)
Receiving objects:  96% (228/237)
Receiving objects:  97% (230/237)
Receiving objects:  98% (233/237)
Receiving objects:  99% (235/237)
Receiving objects: 100% (237/237)
Receiving objects: 100% (237/237), 250.83 KiB | 8.65 MiB/s, done.
Resolving deltas:   0% (0/31)
Resolving deltas:   3% (1/31)
Resolving deltas:   6% (2/31)
Resolving deltas:   9% (3/31)
Resolving deltas:  12% (4/31)
Resolving deltas:  19% (6/31)
Resolving deltas:  22% (7/31)
Resolving deltas:  25% (8/31)
Resolving deltas:  29% (9/31)
Resolving deltas:  32% (10/31)
Resolving deltas:  35% (11/31)
Resolving deltas:  38% (12/31)
Resolving deltas:  41% (13/31)
Resolving deltas:  45% (14/31)
Resolving deltas:  48% (15/31)
Resolving deltas:  51% (16/31)
Resolving deltas:  54% (17/31)
Resolving deltas:  58% (18/31)
Resolving deltas:  64% (20/31)
Resolving deltas:  67% (21/31)
Resolving deltas:  70% (22/31)
Resolving deltas:  74% (23/31)
Resolving deltas:  77% (24/31)
Resolving deltas:  80% (25/31)
Resolving deltas:  83% (26/31)
Resolving deltas:  87% (27/31)
Resolving deltas:  90% (28/31)
Resolving deltas:  93% (29/31)
Resolving deltas:  96% (30/31)
Resolving deltas: 100% (31/31)
Resolving deltas: 100% (31/31), done.
Starting nixpacks build...
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Nixpacks v1.41.0 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë setup      ‚îÇ nodejs_24, npm-9_x ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë install    ‚îÇ npm ci             ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë build      ‚îÇ npm run build      ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë start      ‚îÇ npm run start      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.29kB done
#1 DONE 0.0s
#2 [internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067
#2 DONE 0.4s
#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.1s
#4 [stage-0  1/10] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de
#4 DONE 0.0s
#5 [internal] load build context
#5 transferring context: 1.30MB 0.1s done
#5 DONE 0.2s
#6 [stage-0  2/10] WORKDIR /app/
#6 CACHED
#7 [stage-0  3/10] COPY .nixpacks/nixpkgs-23f9169c4ccce521379e602cc82ed873a1f1b52b.nix .nixpacks/nixpkgs-23f9169c4ccce521379e602cc82ed873a1f1b52b.nix
#7 CACHED
#8 [stage-0  4/10] RUN nix-env -if .nixpacks/nixpkgs-23f9169c4ccce521379e602cc82ed873a1f1b52b.nix && nix-collect-garbage -d
#8 CACHED
#9 [stage-0  5/10] COPY . /app/.
#9 DONE 0.2s
#10 [stage-0  6/10] RUN --mount=type=cache,id=KBJiPX57Xfg-/root/npm,target=/root/.npm npm ci
#10 1.353 npm warn config production Use `--omit=dev` instead.
#10 30.12
#10 30.12 added 637 packages, and audited 638 packages in 29s
#10 30.12
#10 30.12 196 packages are looking for funding
#10 30.12   run `npm fund` for details
#10 30.12
#10 30.12 found 0 vulnerabilities
#10 DONE 30.8s
#11 [stage-0  7/10] COPY . /app/.
#11 DONE 0.5s
#12 [stage-0  8/10] RUN --mount=type=cache,id=KBJiPX57Xfg-next/cache,target=/app/.next/cache --mount=type=cache,id=KBJiPX57Xfg-node_modules/cache,target=/app/node_modules/.cache npm run build
#12 0.957 npm warn config production Use `--omit=dev` instead.
#12 1.011
#12 1.011 > web@0.1.0 build
#12 1.011 > next build
#12 1.011
#12 3.548 ‚ñ≤ Next.js 16.1.3 (Turbopack)
#12 3.549
#12 3.557 ‚ö† The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
#12 3.645   Creating an optimized production build ...
#12 26.87 ‚úì Compiled successfully in 22.1s
#12 26.90   Running TypeScript ...
#12 40.07 Failed to compile.
#12 40.07
#12 40.07 ./src/app/(portal)/portal/workshops/[id]/page.tsx:6:6
#12 40.07 Type error: Cannot find name 'product'.
#12 40.07
#12 40.07 [0m [90m 4 |[39m [90m// ... (in the products loop)[39m
#12 40.07  [90m 5 |[39m {
#12 40.07 [31m[1m>[22m[39m[90m 6 |[39m     (product[33m.[39mimages [33m&&[39m product[33m.[39mimages[33m.[39mlength [33m>[39m [35m0[39m) [33m||[39m product[33m.[39mimage_url [33m?[39m (
#12 40.07  [90m   |[39m      [31m[1m^[22m[39m
#12 40.07  [90m 7 |[39m         [33m<[39m[33mdiv[39m className[33m=[39m[32m"relative w-full h-full"[39m[33m>[39m
#12 40.07  [90m 8 |[39m             [33m<[39m[33mImage[39m
#12 40.07  [90m 9 |[39m                 src[33m=[39m{product[33m.[39mimages[33m?[39m[33m.[39m[[35m0[39m] [33m||[39m product[33m.[39mimage_url}[0m
#12 40.43 Next.js build worker exited with code: 1 and signal: null
#12 ERROR: process "/bin/bash -ol pipefail -c npm run build" did not complete successfully: exit code: 1
------
> [stage-0  8/10] RUN --mount=type=cache,id=KBJiPX57Xfg-next/cache,target=/app/.next/cache --mount=type=cache,id=KBJiPX57Xfg-node_modules/cache,target=/app/node_modules/.cache npm run build:
40.07 Type error: Cannot find name 'product'.
40.07
40.07 [0m [90m 4 |[39m [90m// ... (in the products loop)[39m
40.07  [90m 5 |[39m {
40.07 [31m[1m>[22m[39m[90m 6 |[39m     (product[33m.[39mimages [33m&&[39m product[33m.[39mimages[33m.[39mlength [33m>[39m [35m0[39m) [33m||[39m product[33m.[39mimage_url [33m?[39m (
40.07  [90m   |[39m      [31m[1m^[22m[39m
40.07  [90m 7 |[39m         [33m<[39m[33mdiv[39m className[33m=[39m[32m"relative w-full h-full"[39m[33m>[39m
40.07  [90m 8 |[39m             [33m<[39m[33mImage[39m
40.07  [90m 9 |[39m                 src[33m=[39m{product[33m.[39mimages[33m?[39m[33m.[39m[[35m0[39m] [33m||[39m product[33m.[39mimage_url}[0m
40.43 Next.js build worker exited with code: 1 and signal: null
------
[33m3 warnings found (use docker --debug to expand):
[0m - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "SUPABASE_SERVICE_ROLE_KEY") (line 12)
- UndefinedVar: Usage of undefined variable '$NIXPACKS_PATH' (line 18)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SUPABASE_SERVICE_ROLE_KEY") (line 11)
Dockerfile:24
--------------------
|     # build phase
|     COPY . /app/.
| >>> RUN --mount=type=cache,id=KBJiPX57Xfg-next/cache,target=/app/.next/cache --mount=type=cache,id=KBJiPX57Xfg-node_modules/cache,target=/app/node_modules/.cache npm run build
|
|
--------------------
ERROR: failed to build: failed to solve: process "/bin/bash -ol pipefail -c npm run build" did not complete successfully: exit code: 1
Error: Docker build failed
‚ùå Nixpacks build failed
Error occurred ‚ùå, check the logs for details.