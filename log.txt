Initializing deployment
Cloning Repo github.com/laocorp/techlife-services.git to /etc/dokploy/applications/techlifeservice-web-nlowax/code: ‚úÖ
Cloning into '/etc/dokploy/applications/techlifeservice-web-nlowax/code'...
remote: Enumerating objects: 238, done.
remote: Counting objects:   0% (1/238)        
remote: Counting objects:   1% (3/238)        
remote: Counting objects:   2% (5/238)        
remote: Counting objects:   3% (8/238)        
remote: Counting objects:   4% (10/238)        
remote: Counting objects:   5% (12/238)        
remote: Counting objects:   6% (15/238)        
remote: Counting objects:   7% (17/238)        
remote: Counting objects:   8% (20/238)        
remote: Counting objects:   9% (22/238)        
remote: Counting objects:  10% (24/238)        
remote: Counting objects:  11% (27/238)        
remote: Counting objects:  12% (29/238)        
remote: Counting objects:  13% (31/238)        
remote: Counting objects:  14% (34/238)        
remote: Counting objects:  15% (36/238)        
remote: Counting objects:  16% (39/238)        
remote: Counting objects:  17% (41/238)        
remote: Counting objects:  18% (43/238)        
remote: Counting objects:  19% (46/238)        
remote: Counting objects:  20% (48/238)        
remote: Counting objects:  21% (50/238)        
remote: Counting objects:  22% (53/238)        
remote: Counting objects:  23% (55/238)        
remote: Counting objects:  24% (58/238)        
remote: Counting objects:  25% (60/238)        
remote: Counting objects:  26% (62/238)        
remote: Counting objects:  27% (65/238)        
remote: Counting objects:  28% (67/238)        
remote: Counting objects:  29% (70/238)        
remote: Counting objects:  30% (72/238)        
remote: Counting objects:  31% (74/238)        
remote: Counting objects:  32% (77/238)        
remote: Counting objects:  33% (79/238)        
remote: Counting objects:  34% (81/238)        
remote: Counting objects:  35% (84/238)        
remote: Counting objects:  36% (86/238)        
remote: Counting objects:  37% (89/238)        
remote: Counting objects:  38% (91/238)        
remote: Counting objects:  39% (93/238)        
remote: Counting objects:  40% (96/238)        
remote: Counting objects:  41% (98/238)        
remote: Counting objects:  42% (100/238)        
remote: Counting objects:  43% (103/238)        
remote: Counting objects:  44% (105/238)        
remote: Counting objects:  45% (108/238)        
remote: Counting objects:  46% (110/238)        
remote: Counting objects:  47% (112/238)        
remote: Counting objects:  48% (115/238)        
remote: Counting objects:  49% (117/238)        
remote: Counting objects:  50% (119/238)        
remote: Counting objects:  51% (122/238)        
remote: Counting objects:  52% (124/238)        
remote: Counting objects:  53% (127/238)        
remote: Counting objects:  54% (129/238)        
remote: Counting objects:  55% (131/238)        
remote: Counting objects:  56% (134/238)        
remote: Counting objects:  57% (136/238)        
remote: Counting objects:  58% (139/238)        
remote: Counting objects:  59% (141/238)        
remote: Counting objects:  60% (143/238)        
remote: Counting objects:  61% (146/238)        
remote: Counting objects:  62% (148/238)        
remote: Counting objects:  63% (150/238)        
remote: Counting objects:  64% (153/238)        
remote: Counting objects:  65% (155/238)        
remote: Counting objects:  66% (158/238)        
remote: Counting objects:  67% (160/238)        
remote: Counting objects:  68% (162/238)        
remote: Counting objects:  69% (165/238)        
remote: Counting objects:  70% (167/238)        
remote: Counting objects:  71% (169/238)        
remote: Counting objects:  72% (172/238)        
remote: Counting objects:  73% (174/238)        
remote: Counting objects:  74% (177/238)        
remote: Counting objects:  75% (179/238)        
remote: Counting objects:  76% (181/238)        
remote: Counting objects:  77% (184/238)        
remote: Counting objects:  78% (186/238)        
remote: Counting objects:  79% (189/238)        
remote: Counting objects:  80% (191/238)        
remote: Counting objects:  81% (193/238)        
remote: Counting objects:  82% (196/238)        
remote: Counting objects:  83% (198/238)        
remote: Counting objects:  84% (200/238)        
remote: Counting objects:  85% (203/238)        
remote: Counting objects:  86% (205/238)        
remote: Counting objects:  87% (208/238)        
remote: Counting objects:  88% (210/238)        
remote: Counting objects:  89% (212/238)        
remote: Counting objects:  90% (215/238)        
remote: Counting objects:  91% (217/238)        
remote: Counting objects:  92% (219/238)        
remote: Counting objects:  93% (222/238)        
remote: Counting objects:  94% (224/238)        
remote: Counting objects:  95% (227/238)        
remote: Counting objects:  96% (229/238)        
remote: Counting objects:  97% (231/238)        
remote: Counting objects:  98% (234/238)        
remote: Counting objects:  99% (236/238)        
remote: Counting objects: 100% (238/238)        
remote: Counting objects: 100% (238/238), done.
remote: Compressing objects:   0% (1/186)        
remote: Compressing objects:   1% (2/186)        
remote: Compressing objects:   2% (4/186)        
remote: Compressing objects:   3% (6/186)        
remote: Compressing objects:   4% (8/186)        
remote: Compressing objects:   5% (10/186)        
remote: Compressing objects:   6% (12/186)        
remote: Compressing objects:   7% (14/186)        
remote: Compressing objects:   8% (15/186)        
remote: Compressing objects:   9% (17/186)        
remote: Compressing objects:  10% (19/186)        
remote: Compressing objects:  11% (21/186)        
remote: Compressing objects:  12% (23/186)        
remote: Compressing objects:  13% (25/186)        
remote: Compressing objects:  14% (27/186)        
remote: Compressing objects:  15% (28/186)        
remote: Compressing objects:  16% (30/186)        
remote: Compressing objects:  17% (32/186)        
remote: Compressing objects:  18% (34/186)        
remote: Compressing objects:  19% (36/186)        
remote: Compressing objects:  20% (38/186)        
remote: Compressing objects:  21% (40/186)        
remote: Compressing objects:  22% (41/186)        
remote: Compressing objects:  23% (43/186)        
remote: Compressing objects:  24% (45/186)        
remote: Compressing objects:  25% (47/186)        
remote: Compressing objects:  26% (49/186)        
remote: Compressing objects:  27% (51/186)        
remote: Compressing objects:  28% (53/186)        
remote: Compressing objects:  29% (54/186)        
remote: Compressing objects:  30% (56/186)        
remote: Compressing objects:  31% (58/186)        
remote: Compressing objects:  32% (60/186)        
remote: Compressing objects:  33% (62/186)        
remote: Compressing objects:  34% (64/186)        
remote: Compressing objects:  35% (66/186)        
remote: Compressing objects:  36% (67/186)        
remote: Compressing objects:  37% (69/186)        
remote: Compressing objects:  38% (71/186)        
remote: Compressing objects:  39% (73/186)        
remote: Compressing objects:  40% (75/186)        
remote: Compressing objects:  41% (77/186)        
remote: Compressing objects:  42% (79/186)        
remote: Compressing objects:  43% (80/186)        
remote: Compressing objects:  44% (82/186)        
remote: Compressing objects:  45% (84/186)        
remote: Compressing objects:  46% (86/186)        
remote: Compressing objects:  47% (88/186)        
remote: Compressing objects:  48% (90/186)        
remote: Compressing objects:  49% (92/186)        
remote: Compressing objects:  50% (93/186)        
remote: Compressing objects:  51% (95/186)        
remote: Compressing objects:  52% (97/186)        
remote: Compressing objects:  53% (99/186)        
remote: Compressing objects:  54% (101/186)        
remote: Compressing objects:  55% (103/186)        
remote: Compressing objects:  56% (105/186)        
remote: Compressing objects:  57% (107/186)        
remote: Compressing objects:  58% (108/186)        
remote: Compressing objects:  59% (110/186)        
remote: Compressing objects:  60% (112/186)        
remote: Compressing objects:  61% (114/186)        
remote: Compressing objects:  62% (116/186)        
remote: Compressing objects:  63% (118/186)        
remote: Compressing objects:  64% (120/186)        
remote: Compressing objects:  65% (121/186)        
remote: Compressing objects:  66% (123/186)        
remote: Compressing objects:  67% (125/186)        
remote: Compressing objects:  68% (127/186)        
remote: Compressing objects:  69% (129/186)        
remote: Compressing objects:  70% (131/186)        
remote: Compressing objects:  71% (133/186)        
remote: Compressing objects:  72% (134/186)        
remote: Compressing objects:  73% (136/186)        
remote: Compressing objects:  74% (138/186)        
remote: Compressing objects:  75% (140/186)        
remote: Compressing objects:  76% (142/186)        
remote: Compressing objects:  77% (144/186)        
remote: Compressing objects:  78% (146/186)        
remote: Compressing objects:  79% (147/186)        
remote: Compressing objects:  80% (149/186)        
remote: Compressing objects:  81% (151/186)        
remote: Compressing objects:  82% (153/186)        
remote: Compressing objects:  83% (155/186)        
remote: Compressing objects:  84% (157/186)        
remote: Compressing objects:  85% (159/186)        
remote: Compressing objects:  86% (160/186)        
remote: Compressing objects:  87% (162/186)        
remote: Compressing objects:  88% (164/186)        
remote: Compressing objects:  89% (166/186)        
remote: Compressing objects:  90% (168/186)        
remote: Compressing objects:  91% (170/186)        
remote: Compressing objects:  92% (172/186)        
remote: Compressing objects:  93% (173/186)        
remote: Compressing objects:  94% (175/186)        
remote: Compressing objects:  95% (177/186)        
remote: Compressing objects:  96% (179/186)        
remote: Compressing objects:  97% (181/186)        
remote: Compressing objects:  98% (183/186)        
remote: Compressing objects:  99% (185/186)        
remote: Compressing objects: 100% (186/186)        
remote: Compressing objects: 100% (186/186), done.
Receiving objects:   0% (1/238)
Receiving objects:   1% (3/238)
Receiving objects:   2% (5/238)
Receiving objects:   3% (8/238)
Receiving objects:   4% (10/238)
Receiving objects:   5% (12/238)
Receiving objects:   6% (15/238)
Receiving objects:   7% (17/238)
Receiving objects:   8% (20/238)
Receiving objects:   9% (22/238)
Receiving objects:  10% (24/238)
Receiving objects:  11% (27/238)
Receiving objects:  12% (29/238)
Receiving objects:  13% (31/238)
Receiving objects:  14% (34/238)
Receiving objects:  15% (36/238)
Receiving objects:  16% (39/238)
Receiving objects:  17% (41/238)
Receiving objects:  18% (43/238)
Receiving objects:  19% (46/238)
Receiving objects:  20% (48/238)
Receiving objects:  21% (50/238)
Receiving objects:  22% (53/238)
Receiving objects:  23% (55/238)
Receiving objects:  24% (58/238)
Receiving objects:  25% (60/238)
Receiving objects:  26% (62/238)
Receiving objects:  27% (65/238)
Receiving objects:  28% (67/238)
Receiving objects:  29% (70/238)
Receiving objects:  30% (72/238)
Receiving objects:  31% (74/238)
Receiving objects:  32% (77/238)
Receiving objects:  33% (79/238)
Receiving objects:  34% (81/238)
Receiving objects:  35% (84/238)
Receiving objects:  36% (86/238)
Receiving objects:  37% (89/238)
Receiving objects:  38% (91/238)
Receiving objects:  39% (93/238)
Receiving objects:  40% (96/238)
Receiving objects:  41% (98/238)
Receiving objects:  42% (100/238)
Receiving objects:  43% (103/238)
Receiving objects:  44% (105/238)
Receiving objects:  45% (108/238)
Receiving objects:  46% (110/238)
Receiving objects:  47% (112/238)
Receiving objects:  48% (115/238)
Receiving objects:  49% (117/238)
Receiving objects:  50% (119/238)
Receiving objects:  51% (122/238)
Receiving objects:  52% (124/238)
Receiving objects:  53% (127/238)
Receiving objects:  54% (129/238)
Receiving objects:  55% (131/238)
Receiving objects:  56% (134/238)
Receiving objects:  57% (136/238)
Receiving objects:  58% (139/238)
Receiving objects:  59% (141/238)
Receiving objects:  60% (143/238)
Receiving objects:  61% (146/238)
Receiving objects:  62% (148/238)
Receiving objects:  63% (150/238)
Receiving objects:  64% (153/238)
Receiving objects:  65% (155/238)
Receiving objects:  66% (158/238)
Receiving objects:  67% (160/238)
Receiving objects:  68% (162/238)
Receiving objects:  69% (165/238)
Receiving objects:  70% (167/238)
Receiving objects:  71% (169/238)
Receiving objects:  72% (172/238)
Receiving objects:  73% (174/238)
Receiving objects:  74% (177/238)
Receiving objects:  75% (179/238)
Receiving objects:  76% (181/238)
Receiving objects:  77% (184/238)
Receiving objects:  78% (186/238)
Receiving objects:  79% (189/238)
Receiving objects:  80% (191/238)
Receiving objects:  81% (193/238)
Receiving objects:  82% (196/238)
remote: Total 238 (delta 32), reused 210 (delta 21), pack-reused 0 (from 0)
Receiving objects:  83% (198/238)
Receiving objects:  84% (200/238)
Receiving objects:  85% (203/238)
Receiving objects:  86% (205/238)
Receiving objects:  87% (208/238)
Receiving objects:  88% (210/238)
Receiving objects:  89% (212/238)
Receiving objects:  90% (215/238)
Receiving objects:  91% (217/238)
Receiving objects:  92% (219/238)
Receiving objects:  93% (222/238)
Receiving objects:  94% (224/238)
Receiving objects:  95% (227/238)
Receiving objects:  96% (229/238)
Receiving objects:  97% (231/238)
Receiving objects:  98% (234/238)
Receiving objects:  99% (236/238)
Receiving objects: 100% (238/238)
Receiving objects: 100% (238/238), 246.35 KiB | 9.12 MiB/s, done.
Resolving deltas:   0% (0/32)
Resolving deltas:   3% (1/32)
Resolving deltas:   6% (2/32)
Resolving deltas:   9% (3/32)
Resolving deltas:  12% (4/32)
Resolving deltas:  15% (5/32)
Resolving deltas:  21% (7/32)
Resolving deltas:  25% (8/32)
Resolving deltas:  28% (9/32)
Resolving deltas:  31% (10/32)
Resolving deltas:  34% (11/32)
Resolving deltas:  37% (12/32)
Resolving deltas:  43% (14/32)
Resolving deltas:  46% (15/32)
Resolving deltas:  50% (16/32)
Resolving deltas:  53% (17/32)
Resolving deltas:  56% (18/32)
Resolving deltas:  59% (19/32)
Resolving deltas:  62% (20/32)
Resolving deltas:  65% (21/32)
Resolving deltas:  68% (22/32)
Resolving deltas:  71% (23/32)
Resolving deltas:  75% (24/32)
Resolving deltas:  78% (25/32)
Resolving deltas:  81% (26/32)
Resolving deltas:  84% (27/32)
Resolving deltas:  87% (28/32)
Resolving deltas:  90% (29/32)
Resolving deltas:  93% (30/32)
Resolving deltas:  96% (31/32)
Resolving deltas: 100% (32/32)
Resolving deltas: 100% (32/32), done.
Starting nixpacks build...
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Nixpacks v1.41.0 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë setup      ‚îÇ nodejs_24, npm-9_x ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë install    ‚îÇ npm ci             ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë build      ‚îÇ npm run build      ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë start      ‚îÇ npm run start      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.29kB done
#1 DONE 0.1s
#2 [internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067
#2 DONE 0.5s
#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.1s
#4 [stage-0  1/10] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de
#4 DONE 0.0s
#5 [internal] load build context
#5 transferring context: 1.27MB 0.2s done
#5 DONE 0.2s
#6 [stage-0  3/10] COPY .nixpacks/nixpkgs-23f9169c4ccce521379e602cc82ed873a1f1b52b.nix .nixpacks/nixpkgs-23f9169c4ccce521379e602cc82ed873a1f1b52b.nix
#6 CACHED
#7 [stage-0  2/10] WORKDIR /app/
#7 CACHED
#8 [stage-0  4/10] RUN nix-env -if .nixpacks/nixpkgs-23f9169c4ccce521379e602cc82ed873a1f1b52b.nix && nix-collect-garbage -d
#8 CACHED
#9 [stage-0  5/10] COPY . /app/.
#9 DONE 0.1s
#10 [stage-0  6/10] RUN --mount=type=cache,id=KBJiPX57Xfg-/root/npm,target=/root/.npm npm ci
#10 1.560 npm warn config production Use `--omit=dev` instead.
#10 39.83
#10 39.83 added 637 packages, and audited 638 packages in 38s
#10 39.83
#10 39.83 196 packages are looking for funding
#10 39.83   run `npm fund` for details
#10 39.83
#10 39.83 found 0 vulnerabilities
#10 DONE 40.4s
#11 [stage-0  7/10] COPY . /app/.
#11 DONE 0.4s
#12 [stage-0  8/10] RUN --mount=type=cache,id=KBJiPX57Xfg-next/cache,target=/app/.next/cache --mount=type=cache,id=KBJiPX57Xfg-node_modules/cache,target=/app/node_modules/.cache npm run build
#12 1.352 npm warn config production Use `--omit=dev` instead.
#12 1.441
#12 1.441 > web@0.1.0 build
#12 1.441 > next build
#12 1.441
#12 4.262 ‚ñ≤ Next.js 16.1.3 (Turbopack)
#12 4.263
#12 4.272 ‚ö† The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
#12 4.403   Creating an optimized production build ...
#12 42.66 ‚úì Compiled successfully in 36.4s
#12 43.29   Running TypeScript ...
#12 71.40 Failed to compile.
#12 71.40
#12 71.40 ./src/components/features/pos/PosCart.tsx:95:21
#12 71.40 Type error: Type 'boolean | undefined' is not assignable to type 'boolean'.
#12 71.40   Type 'undefined' is not assignable to type 'boolean'.
#12 71.40
#12 71.40 [0m [90m 93 |[39m                     total[33m=[39m{total}
#12 71.40  [90m 94 |[39m                     onConfirm[33m=[39m{onCheckout}
#12 71.40 [31m[1m>[22m[39m[90m 95 |[39m                     disabled[33m=[39m{items[33m.[39mlength [33m===[39m [35m0[39m [33m||[39m loading}
#12 71.40  [90m    |[39m                     [31m[1m^[22m[39m
#12 71.40  [90m 96 |[39m                 [33m/[39m[33m>[39m
#12 71.40  [90m 97 |[39m             [33m<[39m[33m/[39m[33mdiv[39m[33m>[39m
#12 71.40  [90m 98 |[39m         [33m<[39m[33m/[39m[33mdiv[39m[33m>[39m[0m
#12 71.75 Next.js build worker exited with code: 1 and signal: null
#12 ERROR: process "/bin/bash -ol pipefail -c npm run build" did not complete successfully: exit code: 1
------
> [stage-0  8/10] RUN --mount=type=cache,id=KBJiPX57Xfg-next/cache,target=/app/.next/cache --mount=type=cache,id=KBJiPX57Xfg-node_modules/cache,target=/app/node_modules/.cache npm run build:
71.40   Type 'undefined' is not assignable to type 'boolean'.
71.40
71.40 [0m [90m 93 |[39m                     total[33m=[39m{total}
71.40  [90m 94 |[39m                     onConfirm[33m=[39m{onCheckout}
71.40 [31m[1m>[22m[39m[90m 95 |[39m                     disabled[33m=[39m{items[33m.[39mlength [33m===[39m [35m0[39m [33m||[39m loading}
71.40  [90m    |[39m                     [31m[1m^[22m[39m
71.40  [90m 96 |[39m                 [33m/[39m[33m>[39m
71.40  [90m 97 |[39m             [33m<[39m[33m/[39m[33mdiv[39m[33m>[39m
71.40  [90m 98 |[39m         [33m<[39m[33m/[39m[33mdiv[39m[33m>[39m[0m
71.75 Next.js build worker exited with code: 1 and signal: null
------
[33m3 warnings found (use docker --debug to expand):
[0m - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "SUPABASE_SERVICE_ROLE_KEY") (line 12)
- UndefinedVar: Usage of undefined variable '$NIXPACKS_PATH' (line 18)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SUPABASE_SERVICE_ROLE_KEY") (line 11)
Dockerfile:24
--------------------
|     # build phase
|     COPY . /app/.
| >>> RUN --mount=type=cache,id=KBJiPX57Xfg-next/cache,target=/app/.next/cache --mount=type=cache,id=KBJiPX57Xfg-node_modules/cache,target=/app/node_modules/.cache npm run build
|
|
--------------------
ERROR: failed to build: failed to solve: process "/bin/bash -ol pipefail -c npm run build" did not complete successfully: exit code: 1
Error: Docker build failed
‚ùå Nixpacks build failed
Error occurred ‚ùå, check the logs for details.